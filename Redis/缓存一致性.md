#### 缓存一致性

- 延时双删策略

1. 延时双删策略通过休眠一段时间，再次删除缓存来解决缓存不一致的问题。但是由于每次写都要睡眠一段时间， 写操作耗时较长，从而大大降低系统的吞吐量。
   在第二次删除缓存失败后，缓存和数据库不一致。为了解决这个问题需要业务在失败后提供重试删除机制，大大增加了业务开发成本。

- 异步更新缓存策略

通过解析从库的 binlog ，再通过消息队列串行化发给缓存， 缓存较主库延迟较大。比如大概率会出现业务写入主库更新数据，缓存还未更新，业务从缓存中得到旧值。

